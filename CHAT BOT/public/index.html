<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>THE KADEN ‚Ä¢ Painel</title>

  <!-- ‚úÖ Como o painel √© servido em /app, o CSS precisa ser /app/style.css -->
  <link rel="stylesheet" href="/app/style.css">
</head>

<body>
  <!-- Background FX -->
  <div class="bgFx" aria-hidden="true">
    <div class="bgGrid"></div>
    <div class="bgGlow bgGlow1"></div>
    <div class="bgGlow bgGlow2"></div>
    <div class="bgGlow bgGlow3"></div>
    <div class="bgNoise"></div>
  </div>

  <div class="appShell">

    <!-- SIDEBAR -->
    <aside class="sidebar" id="sidebar">
      <div class="brand">
        <div class="brandLogo">
          <!-- ‚úÖ imagem dentro do mesmo public -> /app/kaden.jpg -->
          <img src="/app/kaden.jpg" alt="THE KADEN">
        </div>
        <div class="brandText">
          <div class="brandName">THE KADEN</div>
          <div class="brandMeta">SaaS ‚Ä¢ WhatsApp ‚Ä¢ CRM</div>
        </div>

        <!-- bot√£o menu (mobile) -->
        <button class="iconBtn sideToggle" id="sideToggleBtn" type="button" aria-label="Abrir/fechar menu">
          ‚ò∞
        </button>
      </div>

      <nav class="nav" aria-label="Navega√ß√£o do painel" id="sideNav">
        <button type="button" class="navItem active" data-page="page-principal">Principal</button>
        <button type="button" class="navItem" data-page="page-bot">Chatbot</button>
        <button type="button" class="navItem" data-page="page-crm">CRM</button>
        <button type="button" class="navItem" data-page="page-disparos">Disparos</button>
        <button type="button" class="navItem" data-page="page-mensagens">Mensagens</button>
        <button type="button" class="navItem" data-page="page-produtos">Produtos</button>
        <button type="button" class="navItem" data-page="page-planos">Planos</button>
        <button type="button" class="navItem" data-page="page-conta">Conta</button>
      </nav>

      <div class="sideInfo">
        <div class="pill" id="sideBotState">Bot: ‚Äî</div>
        <div class="pill pillGreen" id="sideRespondState">Responder: ‚Äî</div>
      </div>

      <div class="sideFooter">
        <div class="sideHint">Confian√ßa ‚Ä¢ Automa√ß√£o ‚Ä¢ Convers√£o</div>
        <div class="sideTiny">¬© THE KADEN</div>
      </div>
    </aside>

    <!-- MAIN -->
    <main class="main">
      <header class="topbar">
        <div>
          <div class="helloTitle" id="helloTitle">
            Ol√°, <span id="userName">Usu√°rio</span>!!
          </div>
          <div class="helloSub" id="helloSub">Bem-vindo ao painel do THE KADEN.</div>

          <div class="trustRow">
            <span class="trustBadge">üîí Seguro</span>
            <span class="trustBadge">‚ö° R√°pido</span>
            <span class="trustBadge">üìà Profissional</span>
          </div>
        </div>

        <div class="topActions">
          <button class="btn ghost" type="button" id="cmdBtn" aria-label="Abrir menu r√°pido">‚åòK</button>
          <button class="btn ghost" type="button" id="themeBtn" aria-label="Alternar tema">‚óê</button>
          <button class="btn" type="button" id="btnRefreshTop">Atualizar</button>
        </div>
      </header>

      <section class="content">

        <!-- ===================== PRINCIPAL ===================== -->
        <section class="page active pageIn" id="page-principal">

          <section class="hero card">
            <div class="heroLeft">
              <div class="kicker">Painel Empresarial</div>

              <h1 class="heroTitle">
                <span class="gradText">THE KADEN</span>
              </h1>

              <p class="heroLead">
                Centralize bot, mensagens, produtos, CRM e disparos em um painel √∫nico.
              </p>

              <div class="heroActions">
                <button type="button" class="btn" data-scroll="#pricing">Ver planos</button>
                <button type="button" class="btn ghost" data-goto="page-bot">Abrir Chatbot</button>
                <button type="button" class="btn ghost" data-goto="page-crm">Abrir CRM</button>
                <button type="button" class="btn ghost" data-goto="page-disparos">Disparos</button>
              </div>

              <div id="dashError" class="err dashError" aria-live="polite"></div>

              <div class="miniStats">
                <div class="miniStat">
                  <div class="miniKey">Status do Bot</div>
                  <div class="miniVal" id="dashBot">‚Äî</div>
                </div>
                <div class="miniStat">
                  <div class="miniKey">Responder</div>
                  <div class="miniVal" id="dashRespond">‚Äî</div>
                </div>
                <div class="miniStat">
                  <div class="miniKey">Produtos</div>
                  <div class="miniVal" id="dashProducts">‚Äî</div>
                </div>
              </div>
            </div>

            <div class="heroRight">
              <div class="glassPanel">
                <div class="gpTitle">Resumo r√°pido</div>

                <div class="gpRow">
                  <span class="gpKey">Bot</span>
                  <span class="gpVal" id="gpBot">‚Äî</span>
                </div>

                <div class="gpRow">
                  <span class="gpKey">Responder</span>
                  <span class="gpVal" id="gpRespond">‚Äî</span>
                </div>

                <div class="gpActions">
                  <button type="button" class="btn" data-goto="page-mensagens">Mensagens</button>
                  <button type="button" class="btn ghost" data-goto="page-produtos">Produtos</button>
                  <button type="button" class="btn ghost" data-goto="page-planos">Planos</button>
                </div>
              </div>

              <div class="cardLite mt12">
                <div class="cardLiteTitle">Atalhos</div>
                <div class="shortcutGrid">
                  <button class="softBtn" type="button" data-goto="page-bot">
                    ‚öôÔ∏è Bot
                    <div class="tinyHint">Start/Stop, QR, responder</div>
                  </button>
                  <button class="softBtn" type="button" data-goto="page-mensagens">
                    ‚úçÔ∏è Mensagens
                    <div class="tinyHint">Textos do bot</div>
                  </button>
                  <button class="softBtn" type="button" data-goto="page-crm">
                    üß† CRM
                    <div class="tinyHint">Leads e pipeline</div>
                  </button>
                  <button class="softBtn" type="button" data-goto="page-disparos">
                    üöÄ Disparos
                    <div class="tinyHint">Campanhas e listas</div>
                  </button>
                </div>
              </div>
            </div>
          </section>

          <!-- PRICING -->
          <section class="sectionHeader" id="pricing">
            <h2 class="sectionTitle">Planos</h2>
            <div class="sectionSub">Escolha o n√≠vel ideal para seu volume de atendimento.</div>
          </section>

          <section class="pricingGrid">

            <article class="planCard">
              <div class="planTop">
                <div>
                  <div class="planName">Starter</div>
                  <div class="planTag">Ideal para come√ßar</div>
                </div>
                <div class="planPrice" aria-label="Pre√ßo: 97 reais por m√™s">
                  <span class="currency">R$</span>
                  <span class="value">97</span>
                  <span class="per">/m√™s</span>
                </div>
              </div>

              <ul class="planList">
                <li>Chatbot b√°sico (sem IA)</li>
                <li>CRM integrado</li>
                <li>At√© 200 contatos</li>
                <li>At√© 300 mensagens/m√™s</li>
                <li>Suporte padr√£o</li>
              </ul>

              <button class="btn planBtn" type="button">Assinar Starter</button>
            </article>

            <article class="planCard featured">
              <div class="planTop">
                <div>
                  <div class="planName">Professional</div>
                  <div class="planTag">Para empresas em crescimento</div>
                </div>
                <div class="planPrice" aria-label="Pre√ßo: 197 reais por m√™s">
                  <span class="currency">R$</span>
                  <span class="value">197</span>
                  <span class="per">/m√™s</span>
                </div>
              </div>

              <ul class="planList">
                <li>Chatbot com IA (limitado)</li>
                <li>CRM completo</li>
                <li>At√© 2.000 contatos</li>
                <li>At√© 5.000 mensagens/m√™s</li>
                <li>Automa√ß√£o de respostas</li>
                <li>Suporte priorit√°rio</li>
              </ul>

              <button class="btn planBtn" type="button">Assinar Professional</button>
            </article>

            <article class="planCard">
              <div class="planTop">
                <div>
                  <div class="planName">Business</div>
                  <div class="planTag">Para escalar de verdade</div>
                </div>
                <div class="planPrice" aria-label="Pre√ßo: 397 reais por m√™s">
                  <span class="currency">R$</span>
                  <span class="value">397</span>
                  <span class="per">/m√™s</span>
                </div>
              </div>

              <ul class="planList">
                <li>Chatbot com IA avan√ßada</li>
                <li>CRM completo</li>
                <li>Contatos ilimitados</li>
                <li>Disparo em massa (API Oficial)</li>
                <li>Automa√ß√£o completa</li>
                <li>Integra√ß√µes avan√ßadas</li>
                <li>Suporte priorit√°rio</li>
              </ul>

              <button class="btn planBtn" type="button">Assinar Business</button>
            </article>

          </section>

        </section>

        <!-- ===================== CHATBOT ===================== -->
        <section class="page" id="page-bot">
          <div class="card">
            <div class="cardHead">
              <h3>Chatbot</h3>
              <div class="cardHeadRight" aria-label="Indicadores">
                <span class="chip">QR</span>
                <span class="chip chipGreen" id="status">Status</span>
              </div>
            </div>

            <div class="row">
              <button type="button" id="btnStart" class="btn">Start</button>
              <button type="button" id="btnStop" class="btn danger">Stop</button>
              <button type="button" id="btnRefresh" class="btn ghost">Atualizar</button>
            </div>

            <div class="hr"></div>

            <div class="grid2">
              <div>
                <h3>QR Code</h3>
                <div id="qrBox" class="qrBox" role="status" aria-live="polite">Sem QR</div>
                <div id="err" class="err" aria-live="polite"></div>
              </div>

              <div>
                <h3>Responder</h3>
                <label class="checkLine" for="respondEnabled">
                  <input type="checkbox" id="respondEnabled" name="respondEnabled" aria-label="Bot responde mensagens">
                  <span>Bot responde mensagens</span>
                </label>

                <div class="row mt10">
                  <button type="button" id="btnSaveLocks" class="btn">Salvar</button>
                </div>

                <div class="hintBox mt12">
                  Se o bot n√£o responder, confirme se est√° <b>Conectado</b> e se <b>Responder</b> est√° ligado.
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- ===================== CRM ===================== -->
        <section class="page" id="page-crm">
          <section class="card">
            <div class="cardHead">
              <h3>CRM</h3>
              <div class="cardHeadRight">
                <span class="chip">Pipeline</span>
                <span class="chip chipGreen">Organizado</span>
              </div>
            </div>

            <div class="crmTop">
              <div class="searchWrap">
                <input type="text" placeholder="Buscar lead..." aria-label="Buscar lead">
                <button class="btn ghost" type="button">Filtrar</button>
                <button class="btn" type="button">+ Novo lead</button>
              </div>
              <div class="crmHint">Arraste leads entre colunas (visual). Depois voc√™ liga no back.</div>
            </div>

            <div class="kanban">
              <div class="col">
                <div class="colHead">Novos <span class="badge">0</span></div>
                <div class="colBody">
                  <div class="emptyState">Sem leads ainda.</div>
                </div>
              </div>

              <div class="col">
                <div class="colHead">Em atendimento <span class="badge">0</span></div>
                <div class="colBody">
                  <div class="emptyState">Sem leads em atendimento.</div>
                </div>
              </div>

              <div class="col">
                <div class="colHead">Fechamento <span class="badge">0</span></div>
                <div class="colBody">
                  <div class="emptyState">Sem leads em fechamento.</div>
                </div>
              </div>

              <div class="col">
                <div class="colHead">Ganho <span class="badge">0</span></div>
                <div class="colBody">
                  <div class="emptyState">Sem vendas registradas.</div>
                </div>
              </div>
            </div>

          </section>
        </section>

        <!-- ===================== DISPAROS ===================== -->
        <section class="page" id="page-disparos">
          <section class="card">
            <div class="cardHead">
              <h3>Disparos</h3>
              <div class="cardHeadRight">
                <span class="chip">Campanhas</span>
                <span class="chip chipGreen">Rastre√°vel</span>
              </div>
            </div>

            <div class="grid2">
              <div class="sectionBlock">
                <div class="blockTitle">Nova campanha</div>

                <div class="grid">
                  <div class="field">
                    <label for="campName">Nome</label>
                    <input id="campName" placeholder="Ex: Reengajamento ‚Ä¢ Semana">
                  </div>

                  <div class="field">
                    <label for="campAudience">P√∫blico</label>
                    <select id="campAudience">
                      <option>Todos</option>
                      <option>Leads novos</option>
                      <option>Leads quentes</option>
                      <option>Clientes</option>
                    </select>
                  </div>

                  <div class="field gridFull">
                    <label for="campMsg">Mensagem</label>
                    <textarea id="campMsg" rows="6" placeholder="Escreva a mensagem da campanha..."></textarea>
                    <div class="fieldMeta">
                      <span>Use {nome} para personalizar.</span>
                      <span>Pr√©via: ‚ÄúOl√°, {nome}...‚Äù</span>
                    </div>
                  </div>
                </div>

                <div class="row mt12">
                  <button class="btn" type="button">Enviar agora</button>
                  <button class="btn ghost" type="button">Agendar</button>
                  <button class="btn ghost" type="button">Salvar rascunho</button>
                </div>
              </div>

              <div class="sectionBlock">
                <div class="blockTitle">M√≠dia (opcional)</div>

                <div class="uploadCard">
                  <label class="fileInput">
                    <input type="file" aria-label="Selecionar arquivo para campanha">
                    <span class="fileBtn">Escolher arquivo</span>
                    <span class="fileName">Nenhum arquivo escolhido</span>
                  </label>

                  <div class="row mt12">
                    <button class="btn ghost" type="button">Enviar m√≠dia</button>
                  </div>

                  <div class="hintBox mt12">
                    Envie imagem/v√≠deo e use na campanha (opcional).
                  </div>
                </div>
              </div>
            </div>

            <div class="hr"></div>

            <h3>Hist√≥rico</h3>
            <div class="tableWrap mt12" aria-label="Hist√≥rico de campanhas">
              <table class="table">
                <thead>
                  <tr>
                    <th>Campanha</th>
                    <th>P√∫blico</th>
                    <th>Status</th>
                    <th>Enviadas</th>
                    <th>Falhas</th>
                    <th>Quando</th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>

              <div class="tableEmpty">
                <div class="emptyTitle">Sem hist√≥rico ainda</div>
                <div class="emptyDesc">Quando voc√™ enviar campanhas, elas aparecem aqui com status e m√©tricas.</div>
              </div>
            </div>

          </section>
        </section>

        <!-- ===================== MENSAGENS ===================== -->
        <section class="page" id="page-mensagens">
          <section class="card">
            <div class="cardHead">
              <h3>Mensagens</h3>
              <div class="cardHeadRight">
                <span class="chip">Edit√°vel</span>
                <span class="chip chipGreen">Autosave</span>
              </div>
            </div>

            <div class="sectionBlock">
              <div class="blockTitle">Boas-vindas</div>
              <div class="grid">
                <div class="field">
                  <label for="tGreeting">Sauda√ß√£o</label>
                  <textarea id="tGreeting" name="tGreeting" rows="4" placeholder="Ex: Ol√°! Sou o THE KADEN..."></textarea>
                </div>
                <div class="field">
                  <label for="tMenu">Menu</label>
                  <textarea id="tMenu" name="tMenu" rows="7" placeholder="Ex: 1) Produtos 2) Simula√ß√£o..."></textarea>
                </div>
              </div>
            </div>

            <div class="sectionBlock">
              <div class="blockTitle">Atendimento</div>
              <div class="grid">
                <div class="field">
                  <label for="tHuman">Mensagem do corretor</label>
                  <textarea id="tHuman" name="tHuman" rows="4" placeholder="Ex: Vou te encaminhar para um corretor..."></textarea>
                </div>
                <div class="field">
                  <label for="tAfterMedia">Mensagem ap√≥s m√≠dias</label>
                  <textarea id="tAfterMedia" name="tAfterMedia" rows="4" placeholder="Ex: Perfeito! Agora me diga..."></textarea>
                </div>
              </div>
            </div>

            <div class="sectionBlock">
              <div class="blockTitle">M√≠dias</div>
              <div class="grid">
                <div class="field">
                  <label for="tAskMediaAgain">Pergunta de fotos e v√≠deos</label>
                  <textarea id="tAskMediaAgain" name="tAskMediaAgain" rows="3" placeholder="Ex: Quer receber fotos e v√≠deos?"></textarea>
                </div>
                <div class="field">
                  <label for="tNoMediaOk">Resposta quando n√£o quer m√≠dias</label>
                  <textarea id="tNoMediaOk" name="tNoMediaOk" rows="2" placeholder="Ex: Beleza! Vamos continuar..."></textarea>
                </div>
              </div>

              <div class="grid mt12">
                <div class="field">
                  <label for="tSendingMedia">Mensagem ‚Äúenviando m√≠dias‚Äù</label>
                  <textarea id="tSendingMedia" name="tSendingMedia" rows="2" placeholder="Ex: Certo, vou te enviar agora..."></textarea>
                </div>
                <div class="field">
                  <label for="tNoMediaAvailable">Sem m√≠dias cadastradas</label>
                  <textarea id="tNoMediaAvailable" name="tNoMediaAvailable" rows="2" placeholder="Ex: Ainda n√£o tenho m√≠dias cadastradas..."></textarea>
                </div>
              </div>
            </div>

            <div class="sectionBlock">
              <div class="blockTitle">Produtos</div>
              <div class="grid">
                <div class="field">
                  <label for="tMiniMenu">Texto do mini-menu</label>
                  <textarea id="tMiniMenu" name="tMiniMenu" rows="6" placeholder="Ex: Digite 1 para..."></textarea>
                </div>
                <div class="field">
                  <label for="tFallbackMenu">Texto quando n√£o entende</label>
                  <textarea id="tFallbackMenu" name="tFallbackMenu" rows="3" placeholder="Ex: N√£o entendi. Digite 1, 2 ou 3..."></textarea>
                </div>
              </div>

              <div class="grid mt12">
                <div class="field">
                  <label for="tChooseProductNumber">Pedir n√∫mero do produto</label>
                  <textarea id="tChooseProductNumber" name="tChooseProductNumber" rows="3" placeholder="Ex: Me diga o n√∫mero do produto..."></textarea>
                </div>
                <div class="field">
                  <label for="tInvalidProductNumber">N√∫mero inv√°lido</label>
                  <textarea id="tInvalidProductNumber" name="tInvalidProductNumber" rows="2" placeholder="Ex: N√∫mero inv√°lido. Tente novamente."></textarea>
                </div>
              </div>
            </div>

            <div class="saveBar">
              <button id="btnSaveTexts" type="button" class="btn">Salvar textos</button>
              <span id="textStatus" class="muted" aria-live="polite"></span>
            </div>
          </section>
        </section>

        <!-- ===================== PRODUTOS ===================== -->
        <section class="page" id="page-produtos">
          <section class="card">
            <div class="cardHead">
              <h3>Produtos</h3>
              <div class="cardHeadRight">
                <span class="chip">M√≠dias</span>
                <span class="chip chipGreen">Organizado</span>
              </div>
            </div>

            <div class="row rowWrap">
              <label class="sr-only" for="prodSelect">Selecionar produto</label>
              <select id="prodSelect" name="prodSelect" class="minW260" aria-label="Selecionar produto"></select>

              <button id="btnAddProduct" type="button" class="btn">+ Novo</button>
              <button id="btnRemoveProduct" type="button" class="btn danger">Remover</button>
              <span id="prodStatus" class="muted" aria-live="polite"></span>
            </div>

            <div class="hr"></div>

            <div class="grid">
              <div class="field">
                <label for="pNome">Nome</label>
                <input id="pNome" name="pNome" placeholder="Ex: Residencial X" aria-label="Nome do produto">
              </div>

              <div class="field gridFull">
                <label for="pSummary">Resumo do produto</label>
                <textarea id="pSummary" name="pSummary" rows="8" placeholder="Texto do bot quando esse produto for escolhido..." aria-label="Resumo do produto"></textarea>
              </div>
            </div>

            <div class="row mt12">
              <button id="btnSaveProduct" type="button" class="btn">Salvar produto</button>
            </div>

            <div class="hr"></div>

            <div class="grid2">
              <div class="field">
                <h3>Fotos</h3>

                <label class="fileInput mt12">
                  <input id="photoFile" name="photoFile" type="file" accept="image/*" aria-label="Selecionar foto">
                  <span class="fileBtn">Escolher foto</span>
                  <span class="fileName" id="photoFileName">Nenhum arquivo escolhido</span>
                </label>

                <div class="row mt12">
                  <button id="btnUploadPhoto" type="button" class="btn">Enviar foto</button>
                  <span id="photoMsg" class="muted" aria-live="polite"></span>
                </div>

                <div id="photoList" class="list" aria-label="Lista de fotos"></div>
              </div>

              <div class="field">
                <h3>V√≠deos</h3>

                <label class="fileInput mt12">
                  <input id="videoFile" name="videoFile" type="file" accept="video/*" aria-label="Selecionar v√≠deo">
                  <span class="fileBtn">Escolher v√≠deo</span>
                  <span class="fileName" id="videoFileName">Nenhum arquivo escolhido</span>
                </label>

                <div class="row mt12">
                  <button id="btnUploadVideo" type="button" class="btn">Enviar v√≠deo</button>
                  <span id="videoMsg" class="muted" aria-live="polite"></span>
                </div>

                <div id="videoList" class="list" aria-label="Lista de v√≠deos"></div>
              </div>
            </div>
          </section>
        </section>

        <!-- ===================== PLANOS ===================== -->
        <section class="page" id="page-planos">
          <section class="card">
            <div class="cardHead">
              <h3>Planos</h3>
              <div class="cardHeadRight">
                <span class="chip">Assinatura</span>
                <span class="chip chipGreen">Mensal</span>
              </div>
            </div>

            <div class="pricingGrid">
              <article class="planCard">
                <div class="planTop">
                  <div>
                    <div class="planName">Starter</div>
                    <div class="planTag">Ideal para come√ßar</div>
                  </div>
                  <div class="planPrice">
                    <span class="currency">R$</span>
                    <span class="value">97</span>
                    <span class="per">/m√™s</span>
                  </div>
                </div>
                <ul class="planList">
                  <li>Chatbot b√°sico (sem IA)</li>
                  <li>CRM integrado</li>
                  <li>At√© 200 contatos</li>
                  <li>At√© 300 mensagens/m√™s</li>
                  <li>Suporte padr√£o</li>
                </ul>
                <button class="btn planBtn" type="button">Assinar Starter</button>
              </article>

              <article class="planCard featured">
                <div class="planTop">
                  <div>
                    <div class="planName">Professional</div>
                    <div class="planTag">Para crescer</div>
                  </div>
                  <div class="planPrice">
                    <span class="currency">R$</span>
                    <span class="value">197</span>
                    <span class="per">/m√™s</span>
                  </div>
                </div>
                <ul class="planList">
                  <li>Chatbot com IA (limitado)</li>
                  <li>CRM completo</li>
                  <li>At√© 2.000 contatos</li>
                  <li>At√© 5.000 mensagens/m√™s</li>
                  <li>Automa√ß√£o de respostas</li>
                  <li>Suporte priorit√°rio</li>
                </ul>
                <button class="btn planBtn" type="button">Assinar Professional</button>
              </article>

              <article class="planCard">
                <div class="planTop">
                  <div>
                    <div class="planName">Business</div>
                    <div class="planTag">Escala total</div>
                  </div>
                  <div class="planPrice">
                    <span class="currency">R$</span>
                    <span class="value">397</span>
                    <span class="per">/m√™s</span>
                  </div>
                </div>
                <ul class="planList">
                  <li>Chatbot com IA avan√ßada</li>
                  <li>CRM completo</li>
                  <li>Contatos ilimitados</li>
                  <li>Disparo em massa (API Oficial)</li>
                  <li>Automa√ß√£o completa</li>
                  <li>Integra√ß√µes avan√ßadas</li>
                  <li>Suporte priorit√°rio</li>
                </ul>
                <button class="btn planBtn" type="button">Assinar Business</button>
              </article>
            </div>
          </section>
        </section>

        <!-- ===================== CONTA ===================== -->
        <section class="page" id="page-conta">
          <section class="card">
            <div class="cardHead">
              <h3>Conta</h3>
              <div class="cardHeadRight">
                <span class="chip">Perfil</span>
                <span class="chip chipGreen">Seguro</span>
              </div>
            </div>

            <div class="profileShell">
              <div class="profileHero">
                <div class="profileAvatar" aria-hidden="true">
                  <span id="profileInitials">KD</span>
                </div>

                <div class="profileInfo">
                  <div class="profileName" id="profileName">Usu√°rio</div>
                  <div class="profileSub">
                    <span class="subPill">Plano: <b id="profilePlan">Starter</b></span>
                    <span class="subPill">Empresa: <b id="profileCompany">THE KADEN</b></span>
                    <span class="subPill">Ambiente: <b>Local</b></span>
                  </div>
                </div>

                <div class="profileActions">
                  <button class="btn ghost" type="button">Editar perfil</button>
                  <button class="btn" type="button">Salvar</button>
                </div>
              </div>

              <div class="profileGrid">
                <div class="sectionBlock">
                  <div class="blockTitle">Dados</div>

                  <div class="grid">
                    <div class="field">
                      <label for="accFullName">Nome completo</label>
                      <input id="accFullName" placeholder="Seu nome">
                    </div>

                    <div class="field">
                      <label for="accEmail">E-mail</label>
                      <input id="accEmail" placeholder="seuemail@dominio.com">
                    </div>

                    <div class="field">
                      <label for="accPhone">Telefone</label>
                      <input id="accPhone" placeholder="(00) 00000-0000">
                    </div>

                    <div class="field">
                      <label for="accRole">Cargo</label>
                      <input id="accRole" placeholder="Ex: Admin / Vendas / Opera√ß√£o">
                    </div>
                  </div>
                </div>

                <div class="sectionBlock">
                  <div class="blockTitle">Prefer√™ncias</div>

                  <div class="grid">
                    <div class="field">
                      <label>Notifica√ß√µes</label>
                      <div class="row">
                        <label class="chipToggle">
                          <input type="checkbox" checked>
                          <span>E-mail</span>
                        </label>
                        <label class="chipToggle">
                          <input type="checkbox" checked>
                          <span>WhatsApp</span>
                        </label>
                        <label class="chipToggle">
                          <input type="checkbox">
                          <span>Push</span>
                        </label>
                      </div>
                      <div class="tinyHint mt10">Voc√™ escolhe como quer receber alertas.</div>
                    </div>

                    <div class="field">
                      <label>Seguran√ßa</label>
                      <div class="secRow">
                        <div class="secItem">
                          <div class="secKey">2FA</div>
                          <div class="secVal">Desativado</div>
                        </div>
                        <div class="secItem">
                          <div class="secKey">Sess√µes</div>
                          <div class="secVal">1 ativa</div>
                        </div>
                      </div>
                      <div class="row mt12">
                        <button class="btn ghost" type="button">Ativar 2FA</button>
                        <button class="btn ghost" type="button">Ver sess√µes</button>
                      </div>
                    </div>
                  </div>

                  <div class="hr"></div>

                  <div class="grid">
                    <div class="field">
                      <label for="accProject">Projeto</label>
                      <input id="accProject" value="THE KADEN" disabled>
                    </div>
                    <div class="field">
                      <label for="accEnv">Ambiente</label>
                      <input id="accEnv" value="Local (PC)" disabled>
                    </div>
                  </div>

                </div>
              </div>
            </div>

          </section>
        </section>

      </section>
    </main>
  </div>

  <!-- Menu r√°pido -->
  <div class="palette hidden" id="palette" aria-hidden="true">
    <div class="paletteCard" role="dialog" aria-modal="true" aria-label="Menu r√°pido">
      <div class="paletteTop">
        <div class="paletteTitle">Menu r√°pido</div>
        <button class="iconBtn" id="paletteClose" type="button" aria-label="Fechar">‚úï</button>
      </div>
      <input class="paletteInput" id="paletteInput" placeholder="Digite: bot, crm, disparos, planos..." />
      <div class="paletteList" id="paletteList"></div>
      <div class="paletteHint">Dica: Ctrl/‚åò + K abre/fecha.</div>
    </div>
  </div>

  <div class="toast" id="toast" role="status" aria-live="polite">Salvo!</div>

  <!-- ‚úÖ Como voc√™ est√° em /app, o JS tem que ser /app/app.js -->
  <script src="/app/app.js"></script>

  <script>
    
(() => {
  // ========= Pages/Nav =========
  const navItems = Array.from(document.querySelectorAll(".navItem"));
  const pages = Array.from(document.querySelectorAll(".page"));
  const sideNav = document.getElementById("sideNav");
  const sideToggleBtn = document.getElementById("sideToggleBtn");

  function openPage(id){
    pages.forEach(p => {
      const on = p.id === id;
      p.classList.toggle("active", on);
      p.classList.remove("pageIn");
      if(on) p.classList.add("pageIn");
    });

    navItems.forEach(b => b.classList.toggle("active", b.dataset.page === id));

    // fecha menu no mobile
    if (window.matchMedia("(max-width: 1050px)").matches) {
      sideNav && sideNav.classList.remove("navOpen");
    }

    window.scrollTo({ top: 0, behavior: "smooth" });
  }

  // cliques do menu
  navItems.forEach(btn => {
    btn.addEventListener("click", () => {
      const id = btn.dataset.page;
      if(id) openPage(id);
    });
  });

  // bot√µes com data-goto
  document.querySelectorAll("[data-goto]").forEach(b => {
    b.addEventListener("click", () => {
      const id = b.getAttribute("data-goto");
      if(id) openPage(id);
    });
  });

  // bot√µes com data-scroll
  document.querySelectorAll("[data-scroll]").forEach(btn => {
    btn.addEventListener("click", () => {
      const sel = btn.getAttribute("data-scroll");
      const el = document.querySelector(sel);
      if(el) el.scrollIntoView({ behavior:"smooth", block:"start" });
    });
  });

  // toggle menu mobile
  if(sideToggleBtn){
    sideToggleBtn.addEventListener("click", () => {
      sideNav && sideNav.classList.toggle("navOpen");
    });
  }

  // ========= Nome do usu√°rio (UI) =========
  function loadUser(){
    // tenta achar em v√°rios nomes poss√≠veis
    const raw =
      localStorage.getItem("kaden_user_name") ||
      localStorage.getItem("username") ||
      localStorage.getItem("userName") ||
      localStorage.getItem("user_name") ||
      localStorage.getItem("name") ||
      "";

    const name = String(raw).trim() || "Usu√°rio";

    const el = document.getElementById("userName");
    const elP = document.getElementById("profileName");
    const elI = document.getElementById("profileInitials");

    if(el) el.textContent = name;
    if(elP) elP.textContent = name;

    const initials = name.split(" ").slice(0,2).map(s => s[0]?.toUpperCase()).join("") || "KD";
    if(elI) elI.textContent = initials;
  }
  loadUser();

  // ========= Tema =========
  const themeBtn = document.getElementById("themeBtn");
  function setTheme(t){
    document.documentElement.setAttribute("data-theme", t);
    localStorage.setItem("kaden_theme", t);
  }
  (function(){
    const saved = localStorage.getItem("kaden_theme");
    if(saved === "light" || saved === "dark") setTheme(saved);
  })();
  themeBtn && themeBtn.addEventListener("click", () => {
    const cur = document.documentElement.getAttribute("data-theme") || "dark";
    setTheme(cur === "light" ? "dark" : "light");
  });

  // ========= File labels =========
  function paintFileName(inputId, labelId){
    const input = document.getElementById(inputId);
    const label = document.getElementById(labelId);
    if(!input || !label) return;
    input.addEventListener("change", () => {
      const f = input.files && input.files[0];
      label.textContent = f ? f.name : "Nenhum arquivo escolhido";
    });
  }
  paintFileName("photoFile", "photoFileName");
  paintFileName("videoFile", "videoFileName");

  // ========= Palette (se existir) =========
  const palette = document.getElementById("palette");
  const palInput = document.getElementById("paletteInput");
  const palList = document.getElementById("paletteList");
  const palClose = document.getElementById("paletteClose");
  const cmdBtn = document.getElementById("cmdBtn");

  const cmds = [
    {k:"principal", id:"page-principal", d:"Ir para Principal"},
    {k:"bot", id:"page-bot", d:"Abrir Chatbot"},
    {k:"chatbot", id:"page-bot", d:"Abrir Chatbot"},
    {k:"crm", id:"page-crm", d:"Abrir CRM"},
    {k:"disparos", id:"page-disparos", d:"Abrir Disparos"},
    {k:"mensagens", id:"page-mensagens", d:"Abrir Mensagens"},
    {k:"produtos", id:"page-produtos", d:"Abrir Produtos"},
    {k:"planos", id:"page-planos", d:"Abrir Planos"},
    {k:"conta", id:"page-conta", d:"Abrir Conta"},
  ];

  function renderList(q){
    if(!palList) return;
    const s = (q||"").toLowerCase().trim();
    const list = cmds.filter(c => !s || c.k.includes(s) || c.d.toLowerCase().includes(s));
    palList.innerHTML = list.map(c => `
      <button class="palItem" type="button" data-id="${c.id}">
        <b>${c.k.toUpperCase()}</b><div class="tinyHint">${c.d}</div>
      </button>
    `).join("");
    palList.querySelectorAll(".palItem").forEach(btn => {
      btn.addEventListener("click", () => {
        closePalette();
        openPage(btn.dataset.id);
      });
    });
  }
  function openPalette(){
    if(!palette || !palInput) return;
    palette.classList.remove("hidden");
    palette.setAttribute("aria-hidden", "false");
    palInput.value = "";
    renderList("");
    palInput.focus();
  }
  function closePalette(){
    if(!palette) return;
    palette.classList.add("hidden");
    palette.setAttribute("aria-hidden", "true");
  }

  palInput && palInput.addEventListener("input", () => renderList(palInput.value));
  palClose && palClose.addEventListener("click", closePalette);
  palette && palette.addEventListener("click", (e) => { if(e.target === palette) closePalette(); });
  cmdBtn && cmdBtn.addEventListener("click", openPalette);

  document.addEventListener("keydown", (e) => {
    const k = e.key.toLowerCase();
    if((e.ctrlKey || e.metaKey) && k === "k"){
      e.preventDefault();
      if(palette && palette.classList.contains("hidden")) openPalette();
      else closePalette();
    }
    if(k === "escape" && palette && !palette.classList.contains("hidden")) closePalette();
  });

})();


  </script>
</body>
</html>
